import numpy as np
from matplotlib import pyplot

from scipy.stats import shapiro

dealer_strat_cash_arr = [-9.058788599,-9.633460392,-9.096846496,-8.824185466,-9.094820552,-9.07136556,-8.68575074,-9.410909954,-9.200934406,-8.67309448,-9.313859955,-9.632075682,-9.762681697,-9.500616248,-8.558361238,-9.289536487,-9.155347292,-9.350550928,-9.457060296,-9.053378775,-8.963992701,-9.735235425,-9.218413029,-10.05124925,-9.224654446,-9.064737526,-9.183521934,-9.425393127,-9.025795401,-9.160158276,-9.212496849,-9.486236355,-9.045203773,-9.159466762,-9.57634795,-9.470745885,-8.956110897,-9.464263186,-9.596746664,-9.200148533,-8.89187404,-8.977115992,-9.168775839,-9.493872886,-9.244270509,-9.457311366,-9.616626941,-9.133148765,-8.721163416,-8.948579061]
dealer_strat_win_arr = [0.454706057,0.451832698,0.454515768,0.455879073,0.454525897,0.454643172,0.456571246,0.45294545,0.453995328,0.456634528,0.4534307,0.451839622,0.451186592,0.452496919,0.457208194,0.453552318,0.454223264,0.453247245,0.452714699,0.454733106,0.455180036,0.451323823,0.453907935,0.449743754,0.453876728,0.454676312,0.45408239,0.452873034,0.454871023,0.454199209,0.453937516,0.452568818,0.454773981,0.454202666,0.45211826,0.452646271,0.455219446,0.452678684,0.452016267,0.453999257,0.45554063,0.45511442,0.454156121,0.452530636,0.453778647,0.452713443,0.451916865,0.454334256,0.456394183,0.455257105]

basic_strat_cash_arr = [-4.13656905,-3.925465308,-3.791668448,-3.886694424,-3.744918374,-3.634979474,-3.752999907,-4.105728377,-3.347599143,-4.230681608,-3.772599352,-3.650621958,-4.497719656,-3.735583084,-3.65309974,-3.878536627,-3.582593339,-4.150377436,-3.470817065,-3.919586543,-3.765225443,-3.681984234,-4.258007117,-3.467352457,-3.751372236,-3.384033936,-4.369485176,-4.072119425,-3.875911058,-4.391059862,-4.023520038,-4.010790343,-4.028715616,-3.828014966,-3.091896045,-3.357850292,-4.291766046,-3.940932362,-3.756749239,-4.02169114,-3.654296056,-3.880559809,-3.94110606,-4.282489818,-4.393214596,-3.975584091,-3.470174239,-4.025556601,-3.593826747,-3.799051039]
basic_strat_win_arr = [0.451951749,0.453732789,0.454537033,0.454716914,0.453683334,0.454824228,0.454105867,0.452633602,0.455283453,0.452307386,0.454133265,0.454932965,0.451180727,0.454471024,0.454481359,0.453756731,0.455297695,0.451757815,0.454964519,0.453258254,0.454398461,0.455197362,0.45224911,0.454640139,0.454056828,0.455465558,0.451206051,0.453043317,0.453543161,0.451946758,0.453141341,0.452212163,0.452569479,0.453649827,0.45691906,0.456293121,0.451340287,0.453039659,0.454326289,0.452964551,0.454230635,0.45249813,0.453168417,0.452016462,0.451430117,0.452590191,0.455564104,0.453569087,0.455078055,0.453784446]

very_basic_strat_cash_arr = [-3.843260323,-4.198044727,-3.618303348,-4.054711768,-4.027100387,-4.225915996,-4.342192858,-3.527335601,-4.209104359,-4.241955468,-3.882083244,-4.19903678,-4.182789623,-3.947745373,-3.241831001,-3.981527887,-3.399831011,-4.261255911,-4.060026503,-4.2337627,-3.983471311,-4.523685096,-3.764955519,-4.30199165,-4.006010088,-3.667905292,-4.124183427,-4.042537955,-4.164969668,-4.128499364,-3.844832768,-4.032304215,-4.125149319,-3.538802152,-4.659185251,-4.240898528,-3.658615183,-3.933525143,-4.245364011,-4.295263628,-3.957887504,-4.313329899,-3.832817515,-4.270251322,-4.069983958,-4.207166068,-3.938258183,-3.682368852,-4.773878346,-4.465734816]
very_basic_strat_win_arr = [0.469380736,0.467413304,0.470451,0.468435518,0.46840556,0.467588919,0.466789311,0.47032094,0.468040397,0.467846937,0.469073716,0.467254823,0.467745742,0.468923681,0.471250134,0.468840839,0.470634568,0.467579112,0.468829913,0.467009874,0.46789345,0.465870124,0.469658846,0.466924008,0.468464923,0.469224105,0.468120577,0.468834145,0.467435496,0.467960901,0.468736136,0.467860311,0.468129699,0.469889014,0.465761072,0.467969131,0.469554507,0.468437326,0.467304831,0.467152815,0.467810852,0.467276213,0.469846114,0.466458245,0.468230778,0.467340424,0.468435283,0.469412581,0.465395829,0.467229114]

hiopt_strat_cash_arr = [-3.37535004,-3.741794779,-4.147613146,-4.143192488,-3.783118297,-3.759668941,-3.772088325,-3.511971334,-3.812092109,-3.285079139,-4.198239517,-4.008267697,-4.486623025,-3.76864928,-4.052195845,-3.900694074,-3.582055553,-4.419079607,-3.681269796,-3.786000314,-3.802297607,-3.860995614,-3.643986959,-4.049460143,-4.788037207,-3.93929483,-3.684656642,-4.146395322,-3.447427883,-3.867689016,-4.125581594,-4.198285804,-3.600531885,-3.631635645,-4.353246235,-4.383483558,-3.813495989,-4.438145503,-3.914692213,-4.251616998,-3.828498634,-3.405471505,-4.018101932,-4.198940654,-3.908315459,-3.850754771,-3.443451639,-4.317435675,-4.607209301,-4.050608571]
hiopt_strat_win_arr = [0.454036953,0.454111342,0.45199225,0.451749893,0.452985006,0.453695922,0.453931082,0.4543978,0.452143122,0.454604304,0.451700661,0.453079753,0.449679806,0.453205968,0.452171621,0.452934686,0.454491095,0.450127022,0.45363892,0.453422256,0.452638547,0.452789486,0.453864662,0.451562556,0.448547741,0.452259913,0.453156496,0.452143005,0.454883708,0.452425107,0.451757943,0.451200934,0.454007623,0.453909867,0.450725897,0.451116891,0.453085743,0.450365607,0.452634505,0.451618424,0.453278012,0.454370948,0.452640874,0.451375441,0.453063871,0.4526773,0.454430245,0.451541458,0.450078765,0.45224377]

hilo_strat_cash_arr = [-4.063933435,-3.67705608,-4.171054129,-4.036330531,-4.021265383,-3.854689,-4.122541065,-3.89098279,-4.127483573,-4.0561417,-4.6959635,-4.246095585,-3.680184937,-4.056977746,-3.598810828,-3.703572063,-3.723805592,-4.127046263,-4.348475367,-3.784701702,-3.873101543,-4.04209298,-4.449652048,-3.640539867,-3.806354138,-3.387188612,-3.680492819,-4.09873317,-3.822505924,-4.425701154,-4.500597661,-4.153811074,-2.973310885,-3.981285499,-4.027335598,-4.183570341,-3.509252669,-4.047003893,-3.574377518,-3.710472689,-4.263027401,-4.106154787,-3.718852342,-3.660984377,-3.533784217,-3.47739409,-3.702450492,-3.970198581,-3.74754644,-4.362610073]
hilo_strat_win_arr = [0.452149486,0.453503583,0.452010644,0.451905433,0.452612238,0.453003307,0.452073903,0.452538757,0.45177365,0.452016858,0.449161168,0.451545394,0.453887097,0.452142537,0.45443877,0.453620046,0.453640169,0.451053381,0.450655649,0.45332403,0.452817157,0.452250509,0.450364334,0.453993804,0.453106515,0.455978648,0.453325177,0.451755383,0.452808437,0.450396289,0.450870877,0.451885051,0.456982716,0.452376371,0.452241049,0.451409944,0.454640569,0.451633108,0.453625272,0.453557636,0.451224725,0.452590928,0.453146803,0.454023275,0.454064725,0.454731221,0.453953555,0.45303285,0.45291298,0.450775686]

a = np.array(dealer_strat_cash_arr)
b = np.array(basic_strat_cash_arr)
c = np.array(very_basic_strat_cash_arr)
d = np.array(hiopt_strat_cash_arr)
e = np.array(hilo_strat_cash_arr)

name_dict = {"Dealer Strategy": a,
             "Basic Strategy": b,
             "Very Basic Strategy": c,
             "Hi-Opt 1 Counting Strategy": d,
             "Hi-Lo 1 Counting Strategy": e}

for names, arrays in name_dict.items():
    #print(f"Visual test for normality on: {names}")
    pyplot.hist(arrays)
    pyplot.show()

    print(f"Statistical test for normality on: {names}")

    stat, p = shapiro(arrays)

    print('Statistics=%.3f, p=%.3f' % (stat, p))
    # interpret
    alpha = 0.05
    if p > alpha:
        print('Sample looks Gaussian (fail to reject H0)')
    else:
        print('Sample does not look Gaussian (reject H0)')


